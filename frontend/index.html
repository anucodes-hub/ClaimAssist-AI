<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ClaimAssist AI ‚Äî Insurance Intelligence Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet"/>
    <style>
        /* CSS FROM FILE 1 */
        .password-wrapper { position: relative; }
        .password-wrapper input { padding-right: 80px; }
        .toggle-password { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--accent); font-size: 0.8rem; cursor: pointer; font-family: var(--sans); }
        .toggle-password:hover { text-decoration: underline; }
        .site-footer { text-align: center; padding: 1.5rem 1rem; border-top: 1px solid var(--border); background: var(--surface); color: var(--muted); font-size: 0.85rem; margin-top: 4rem; }
        :root { --bg: #050810; --surface: #0b1121; --card: #0f1829; --border: #1a2540; --accent: #2563eb; --accent2: #06b6d4; --accent3: #8b5cf6; --success: #10b981; --warning: #f59e0b; --danger: #ef4444; --text: #e2e8f0; --muted: #64748b; --mono: 'DM Mono', monospace; --sans: 'Space Grotesk', sans-serif; }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: var(--bg); color: var(--text); font-family: var(--sans); min-height: 100vh; overflow-x: hidden; }
        body::before { content: ''; position: fixed; inset: 0; z-index: 0; background-image: linear-gradient(rgba(37,99,235,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(37,99,235,0.03) 1px, transparent 1px); background-size: 40px 40px; pointer-events: none; }
        .app { position: relative; z-index: 1; }
        nav { display: flex; align-items: center; justify-content: space-between; padding: 1rem 2rem; border-bottom: 1px solid var(--border); background: rgba(5,8,16,0.8); backdrop-filter: blur(20px); position: sticky; top: 0; z-index: 100; }
        .logo { display: flex; align-items: center; gap: .5rem; font-weight: 700; font-size: 1.1rem; cursor: pointer; }
        .logo-icon { width: 32px; height: 32px; background: linear-gradient(135deg, var(--accent), var(--accent3)); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
        .nav-links { display: flex; gap: .5rem; }
        .btn { padding: .5rem 1.25rem; border-radius: 8px; border: none; cursor: pointer; font-family: var(--sans); font-weight: 500; font-size: .875rem; transition: all .2s; }
        .btn-ghost { background: transparent; color: var(--muted); }
        .btn-ghost:hover { color: var(--text); background: var(--border); }
        .btn-primary { background: var(--accent); color: #fff; }
        .btn-primary:hover { background: #1d4ed8; transform: translateY(-1px); box-shadow: 0 8px 24px rgba(37,99,235,0.3); }
        .btn-outline { background: transparent; color: var(--accent); border: 1px solid var(--accent); }
        .btn-outline:hover { background: rgba(37,99,235,0.1); }
        .btn-success { background: var(--success); color: #fff; }
        .btn-success:hover { background: #059669; }
        .btn-danger { background: transparent; color: var(--danger); border: 1px solid var(--danger); }
        .btn-lg { padding: .875rem 2rem; font-size: 1rem; border-radius: 12px; }
        .btn:disabled { opacity: .5; cursor: not-allowed; transform: none !important; }
        .page { display: none; min-height: calc(100vh - 65px); }
        .page.active { display: block; }
        .hero { text-align: center; padding: 8rem 2rem 4rem; max-width: 900px; margin: 0 auto; }
        .badge { display: inline-flex; align-items: center; gap: .5rem; padding: .375rem 1rem; background: rgba(37,99,235,0.1); border: 1px solid rgba(37,99,235,0.3); border-radius: 999px; font-size: .8rem; color: var(--accent2); margin-bottom: 1.5rem; }
        .badge-dot { width: 6px; height: 6px; background: var(--accent2); border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.4} }
        h1 { font-size: clamp(2.5rem, 6vw, 4.5rem); font-weight: 700; line-height: 1.1; letter-spacing: -0.02em; margin-bottom: 1.25rem; }
        .gradient-text { background: linear-gradient(135deg, #fff 0%, var(--accent2) 50%, var(--accent3) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .hero p { color: var(--muted); font-size: 1.15rem; line-height: 1.7; max-width: 600px; margin: 0 auto 2.5rem; }
        .hero-cta { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
        .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; max-width: 1100px; margin: 4rem auto; padding: 0 2rem; }
        .feature-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 1.75rem; transition: all .3s; }
        .feature-card:hover { border-color: rgba(37,99,235,0.4); transform: translateY(-4px); box-shadow: 0 20px 60px rgba(0,0,0,0.4); }
        .feat-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 22px; margin-bottom: 1rem; }
        .feat-icon.blue { background: rgba(37,99,235,0.15); }
        .feat-icon.cyan { background: rgba(6,182,212,0.15); }
        .feat-icon.purple { background: rgba(139,92,246,0.15); }
        .feat-icon.green { background: rgba(16,185,129,0.15); }
        .feature-card h3 { font-size: 1.05rem; font-weight: 600; margin-bottom: .5rem; }
        .feature-card p { color: var(--muted); font-size: .9rem; line-height: 1.6; }
        .how-it-works { max-width: 900px; margin: 2rem auto 6rem; padding: 0 2rem; text-align: center; }
        .how-it-works h2 { font-size: 2rem; font-weight: 700; margin-bottom: 3rem; }
        .steps { display: flex; gap: 2rem; justify-content: center; flex-wrap: wrap; }
        .step { flex: 1; min-width: 180px; max-width: 200px; }
        .step-num { width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, var(--accent), var(--accent3)); display: flex; align-items: center; justify-content: center; font-weight: 700; margin: 0 auto .75rem; }
        .step p { color: var(--muted); font-size: .875rem; }
        .step h4 { font-size: .95rem; margin-bottom: .25rem; }
        .auth-wrap { min-height: calc(100vh - 65px); display: flex; align-items: center; justify-content: center; padding: 2rem; }
        .auth-card { background: var(--card); border: 1px solid var(--border); border-radius: 20px; padding: 2.5rem; width: 100%; max-width: 440px; }
        .auth-card h2 { font-size: 1.5rem; font-weight: 700; margin-bottom: .5rem; }
        .auth-card .sub { color: var(--muted); font-size: .9rem; margin-bottom: 2rem; }
        .form-group { margin-bottom: 1.25rem; }
        label { display: block; font-size: .85rem; color: var(--muted); margin-bottom: .5rem; font-weight: 500; }
        input[type=text], input[type=email], input[type=password], input[type=number], input[type=date] { width: 100%; background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: .75rem 1rem; color: var(--text); font-family: var(--sans); font-size: .95rem; transition: border-color .2s; }
        input:focus { outline: none; border-color: var(--accent); }
        .form-error { color: var(--danger); font-size: .8rem; margin-top: .375rem; }
        .auth-toggle { text-align: center; margin-top: 1.5rem; color: var(--muted); font-size: .875rem; }
        .auth-toggle a { color: var(--accent); cursor: pointer; text-decoration: none; }
        .auth-toggle a:hover { text-decoration: underline; }
        .page-header { text-align: center; padding: 3rem 2rem 2rem; }
        .page-header h2 { font-size: 2rem; font-weight: 700; margin-bottom: .5rem; }
        .page-header p { color: var(--muted); }
        .insurance-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.25rem; max-width: 900px; margin: 0 auto; padding: 0 2rem 3rem; }
        .ins-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 2rem 1.5rem; text-align: center; cursor: pointer; transition: all .3s; }
        .ins-card:hover { border-color: var(--accent); transform: translateY(-4px); box-shadow: 0 20px 60px rgba(37,99,235,0.15); }
        .ins-card.selected { border-color: var(--accent); background: rgba(37,99,235,0.08); }
        .ins-icon { font-size: 2.5rem; margin-bottom: .75rem; }
        .ins-card h3 { font-size: 1rem; font-weight: 600; }
        .checklist-wrap { max-width: 700px; margin: 0 auto; padding: 0 2rem 4rem; }
        .checklist-box { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 2rem; }
        .checklist-box h3 { font-size: 1.1rem; font-weight: 600; margin-bottom: 1.25rem; }
        .checklist-item { display: flex; align-items: center; gap: .75rem; padding: .75rem 0; border-bottom: 1px solid var(--border); }
        .checklist-item:last-child { border-bottom: none; }
        .check-icon { width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; flex-shrink: 0; }
        .check-icon.required { background: rgba(37,99,235,0.15); color: var(--accent); }
        .check-icon.optional { background: rgba(100,116,139,0.15); color: var(--muted); }
        .check-label { font-size: .9rem; flex: 1; }
        .req-badge { font-size: .7rem; padding: .2rem .5rem; border-radius: 999px; background: rgba(37,99,235,0.1); color: var(--accent); }
        .opt-badge { font-size: .7rem; padding: .2rem .5rem; border-radius: 999px; background: rgba(100,116,139,0.1); color: var(--muted); }
        .upload-wrap { max-width: 800px; margin: 0 auto; padding: 0 2rem 4rem; }
        .upload-zone { background: var(--card); border: 2px dashed var(--border); border-radius: 16px; padding: 3rem; text-align: center; cursor: pointer; transition: all .3s; position: relative; }
        .upload-zone:hover, .upload-zone.dragover { border-color: var(--accent); background: rgba(37,99,235,0.04); }
        .upload-zone input { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
        .upload-icon { font-size: 3rem; margin-bottom: 1rem; }
        .upload-zone p { color: var(--muted); font-size: .95rem; }
        .upload-zone .up-title { color: var(--text); font-size: 1.05rem; font-weight: 500; margin-bottom: .25rem; }
        .upload-btns { display: flex; gap: 1rem; margin-bottom: 1.5rem; }
        .upload-btns .btn { flex: 1; }
        .result-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 2rem; margin-top: 1.5rem; }
        .result-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem; flex-wrap: gap; }
        .claim-num { font-family: var(--mono); font-size: .85rem; color: var(--muted); }
        .status-chip { padding: .35rem .85rem; border-radius: 999px; font-size: .8rem; font-weight: 600; }
        .status-chip.approved { background: rgba(16,185,129,0.15); color: var(--success); }
        .status-chip.pending { background: rgba(245,158,11,0.15); color: var(--warning); }
        .status-chip.under_review { background: rgba(139,92,246,0.15); color: var(--accent3); }
        .status-chip.rejected { background: rgba(239,68,68,0.15); color: var(--danger); }
        .score-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1.5rem; }
        .score-box { background: var(--surface); border-radius: 12px; padding: 1rem; text-align: center; }
        .score-val { font-size: 1.75rem; font-weight: 700; font-family: var(--mono); }
        .score-val.good { color: var(--success); }
        .score-val.warn { color: var(--warning); }
        .score-val.bad { color: var(--danger); }
        .score-label { font-size: .75rem; color: var(--muted); margin-top: .25rem; }
        .health-bar-wrap { margin-bottom: 1.5rem; }
        .health-bar-label { display: flex; justify-content: space-between; font-size: .85rem; margin-bottom: .5rem; }
        .health-bar { height: 10px; background: var(--border); border-radius: 999px; overflow: hidden; }
        .health-fill { height: 100%; border-radius: 999px; transition: width 1s ease; }
        .reasons-list { margin-bottom: 1.5rem; }
        .reasons-list h4 { font-size: .9rem; font-weight: 600; color: var(--muted); margin-bottom: .75rem; text-transform: uppercase; letter-spacing: .05em; }
        .reason-item { display: flex; gap: .75rem; padding: .75rem; background: var(--surface); border-radius: 10px; margin-bottom: .5rem; border-left: 3px solid; }
        .reason-item.high { border-color: var(--danger); }
        .reason-item.medium { border-color: var(--warning); }
        .reason-item.low { border-color: var(--muted); }
        .reason-icon { font-size: 1.1rem; }
        .reason-text { font-size: .875rem; flex: 1; }
        .reason-sev { font-size: .7rem; padding: .15rem .5rem; border-radius: 999px; align-self: flex-start; margin-top: .1rem; }
        .reason-sev.high { background: rgba(239,68,68,0.15); color: var(--danger); }
        .reason-sev.medium { background: rgba(245,158,11,0.15); color: var(--warning); }
        .extracted-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: .5rem; }
        .extracted-item { background: var(--surface); border-radius: 8px; padding: .75rem; }
        .ext-key { font-size: .7rem; color: var(--muted); margin-bottom: .15rem; text-transform: uppercase; letter-spacing: .05em; }
        .ext-val { font-size: .875rem; font-family: var(--mono); }
        .hitl-box { background: var(--surface); border-radius: 12px; padding: 1.25rem; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 1rem; }
        .hitl-icon { font-size: 2rem; }
        .hitl-text h4 { font-size: .95rem; font-weight: 600; margin-bottom: .25rem; }
        .hitl-text p { font-size: .85rem; color: var(--muted); }
        .hitl-actions { display: flex; gap: .75rem; margin-top: 1rem; }
        .dash-wrap { max-width: 1100px; margin: 0 auto; padding: 2rem; }
        .dash-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 2rem; }
        .dash-header h2 { font-size: 1.5rem; font-weight: 700; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
        .stat-card { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 1.5rem; }
        .stat-val { font-size: 2.25rem; font-weight: 700; font-family: var(--mono); }
        .stat-label { color: var(--muted); font-size: .85rem; margin-top: .25rem; }
        .stat-card.approved .stat-val { color: var(--success); }
        .stat-card.pending .stat-val { color: var(--warning); }
        .stat-card.rejected .stat-val { color: var(--danger); }
        .stat-card.amount .stat-val { color: var(--accent2); font-size: 1.5rem; }
        .claims-table { background: var(--card); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; }
        .claims-table table { width: 100%; border-collapse: collapse; }
        .claims-table th { text-align: left; padding: 1rem 1.25rem; font-size: .8rem; color: var(--muted); text-transform: uppercase; letter-spacing: .05em; background: var(--surface); border-bottom: 1px solid var(--border); }
        .claims-table td { padding: .875rem 1.25rem; border-bottom: 1px solid var(--border); font-size: .875rem; }
        .claims-table tr:last-child td { border-bottom: none; }
        .claims-table tr:hover td { background: rgba(255,255,255,0.02); }
        .tracker { display: flex; align-items: center; gap: 0; }
        .track-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
        .track-dot.done { background: var(--success); }
        .track-dot.active { background: var(--accent); box-shadow: 0 0 6px var(--accent); }
        .track-dot.todo { background: var(--border); }
        .track-line { flex: 1; height: 2px; }
        .track-line.done { background: var(--success); }
        .track-line.todo { background: var(--border); }
        .alert-box { display: flex; align-items: flex-start; gap: .75rem; padding: 1rem 1.25rem; background: rgba(6,182,212,0.08); border: 1px solid rgba(6,182,212,0.2); border-radius: 12px; margin-bottom: 1.5rem; }
        .alert-box .alert-icon { font-size: 1.25rem; }
        .alert-box p { font-size: .875rem; color: var(--accent2); }
        .empty-state { text-align: center; padding: 4rem 2rem; color: var(--muted); }
        .empty-state .empty-icon { font-size: 3rem; margin-bottom: 1rem; }
        .loader-wrap { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 3rem; gap: 1rem; }
        .spinner { width: 44px; height: 44px; border: 3px solid var(--border); border-top-color: var(--accent); border-radius: 50%; animation: spin .8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .loader-steps { list-style: none; text-align: center; }
        .loader-steps li { font-size: .85rem; color: var(--muted); padding: .25rem 0; }
        .loader-steps li.active { color: var(--accent2); } .loader-steps li.done { color: var(--success); }
        .toast { position: fixed; bottom: 2rem; right: 2rem; background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.5rem; font-size: .9rem; z-index: 999; display: none; min-width: 280px; }
        .toast.show { display: flex; align-items: center; gap: .75rem; animation: slideIn .3s; }
        .toast.success { border-color: var(--success); }
        .toast.error { border-color: var(--danger); }
        @keyframes slideIn { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @media (max-width: 640px) { .score-grid { grid-template-columns: repeat(2, 1fr); } .extracted-grid { grid-template-columns: 1fr; } nav { padding: 1rem; } .steps { gap: 1rem; } .claims-table { overflow-x: auto; } }
        .tab-bar { display: flex; gap: .5rem; border-bottom: 1px solid var(--border); margin-bottom: 1.5rem; }
        .tab { padding: .625rem 1rem; font-size: .875rem; color: var(--muted); cursor: pointer; border-bottom: 2px solid transparent; transition: all .2s; }
        .tab.active { color: var(--accent); border-bottom-color: var(--accent); }
        details summary { cursor: pointer; padding: .75rem 0; color: var(--muted); font-size: .85rem; list-style: none; }
        details summary::after { content: ' ‚ñº'; font-size: .7rem; }
        details[open] summary::after { content: ' ‚ñ≤'; }
        .blur-meter { display: flex; align-items: center; gap: 1rem; padding: .75rem; background: var(--surface); border-radius: 10px; margin-bottom: 1rem; }
        .blur-dot { width: 12px; height: 12px; border-radius: 50%; }
        .blur-dot.good { background: var(--success); }
        .blur-dot.warn { background: var(--warning); }
        .blur-dot.bad { background: var(--danger); }
        .blur-text { font-size: .875rem; }
        .blur-text span { color: var(--muted); font-size: .8rem; }

        /* CSS FROM FILE 2 (Integrated & Cleaned) */
        .incident-card { max-width: 1100px; margin: 0 auto; padding: 40px; background: linear-gradient(145deg, #1a120d, #0e0e0e); border-radius: 20px; box-shadow: 0 0 60px rgba(255, 140, 0, 0.1); border: 1px solid var(--border); }
        .incident-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .incident-input-group { display: flex; flex-direction: column; margin-bottom: 15px; }
        .incident-input-group label { margin-bottom: 8px; font-size: 14px; color: var(--muted); }
        textarea.incident-input { background: var(--surface); border: 1px solid var(--border); color: white; padding: 14px; border-radius: 15px; font-size: 14px; resize: none; height: 120px; font-family: var(--sans); }
        select.incident-input { background: var(--surface); border: 1px solid var(--border); color: white; padding: 14px; border-radius: 15px; font-size: 14px; }
        .incident-input:focus { outline: none; border-color: #f97316; }
        .full-width { grid-column: span 2; }
        .incident-divider { margin: 40px 0; border-color: #2a2a2a; }
        .section-title { color: #f97316; margin-bottom: 20px; font-weight: 600; }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div class="app">
        <nav>
            <div class="logo" onclick="navigate('home')">
                <div class="logo-icon"></div>
                <span>ClaimAssist AI</span>
            </div>
            <div class="nav-links" id="navLinks">
                <button class="btn btn-ghost" onclick="navigate('home')">Home</button>
                <button class="btn btn-primary" onclick="navigate('login')" id="navLogin">Sign In</button>
            </div>
        </nav>

        <div class="toast" id="toast"></div>

        <div class="page active" id="page-home">
            <div class="hero">
                <div class="badge"><div class="badge-dot"></div> AI-Powered Insurance Intelligence</div>
                <h1>Stop Losing Claims to<br/><span class="gradient-text">Manual Processing</span></h1>
                <p>ClaimAssist AI uses computer vision, OCR, and machine learning to validate your insurance documents in seconds ‚Äî with explainable AI decisions you can trust.</p>
                <div class="hero-cta">
                    <button class="btn btn-primary btn-lg" onclick="navigate('register')">Get Started Free ‚Üí</button>
                    <button class="btn btn-outline btn-lg" onclick="scrollTo(0, 600)">See How It Works</button>
                </div>
            </div>
            <div class="features">
                <div class="feature-card"><div class="feat-icon blue"></div><h3>AI Document Analysis</h3><p>OpenCV blur detection + Gemini Vision OCR extracts structured data from any insurance document instantly.</p></div>
                <div class="feature-card"><div class="feat-icon cyan"></div><h3>ML-Powered Scoring</h3><p>Random Forest classifier predicts rejection probability with explainable reasons for every decision made.</p></div>
                <div class="feature-card"><div class="feat-icon purple"></div><h3>DigiLocker Integration</h3><p>Seamlessly fetch verified government documents ‚Äî Aadhaar, RC, DL ‚Äî directly from DigiLocker API.</p></div>
                <div class="feature-card"><div class="feat-icon green"></div><h3>Smart HITL Decisions</h3><p>Auto-approve at 90%+ confidence. Flag borderline cases for human review. Zero manual bottlenecks.</p></div>
            </div>
            <div class="how-it-works">
                <h2>How It Works</h2>
                <div class="steps">
                    <div class="step"><div class="step-num">1</div><h4>Select Insurance</h4><p>Choose your insurance type to get a tailored document checklist</p></div>
                    <div class="step"><div class="step-num">2</div><h4>Details & Upload</h4><p>Provide incident details and upload files directly or from DigiLocker</p></div>
                    <div class="step"><div class="step-num">3</div><h4>AI Validation</h4><p>Our pipeline checks quality, extracts data, and runs ML scoring</p></div>
                    <div class="step"><div class="step-num">4</div><h4>Instant Decision</h4><p>Get approved, confirm borderline cases, or escalate for review</p></div>
                </div>
            </div>
        </div>

        <div class="page" id="page-login">
            <div class="auth-wrap">
                <div class="auth-card">
                    <h2>Welcome back</h2><p class="sub">Sign in to access your claims dashboard</p>
                    <div class="form-group"><label>Email address</label><input type="email" id="loginEmail" placeholder="you@example.com"/></div>
                    <div class="form-group"><label>Password</label>
                        <div class="password-wrapper"><input type="password" id="loginPwd" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onkeydown="if(event.key==='Enter')doLogin()"/><button type="button" class="toggle-password" onclick="togglePassword('loginPwd', this)">Show</button></div>
                        <div class="form-error" id="loginError"></div>
                    </div>
                    <button class="btn btn-primary" style="width:100%;padding:.75rem;" id="loginBtn" onclick="doLogin()">Sign In</button>
                    <div class="auth-toggle">Don't have an account? <a onclick="navigate('register')">Create one</a></div>
                </div>
            </div>
        </div>

        <div class="page" id="page-register">
            <div class="auth-wrap">
                <div class="auth-card">
                    <h2>Create account</h2><p class="sub">Start filing smarter insurance claims today</p>
                    <div class="form-group"><label>Full Name</label><input type="text" id="regName" placeholder="Rajesh Kumar"/></div>
                    <div class="form-group"><label>Email address</label><input type="email" id="regEmail" placeholder="you@example.com"/></div>
                    <div class="form-group"><label>Password</label>
                        <div class="password-wrapper"><input type="password" id="regPwd" placeholder="Min. 6 characters" onkeydown="if(event.key==='Enter')doRegister()"/><button type="button" class="toggle-password" onclick="togglePassword('regPwd', this)">Show</button></div>
                        <div class="form-error" id="regError"></div>
                    </div>
                    <button class="btn btn-primary" style="width:100%;padding:.75rem;" id="regBtn" onclick="doRegister()">Create Account</button>
                    <div class="auth-toggle">Already have an account? <a onclick="navigate('login')">Sign in</a></div>
                </div>
            </div>
        </div>

        <div class="page" id="page-insurance">
            <div class="page-header"><h2>Select Insurance Type</h2><p>Choose the type of insurance claim you want to file</p></div>
            <div class="insurance-grid" id="insuranceGrid">
                <div class="ins-card" onclick="selectInsurance('health')"><div class="ins-icon">üè•</div><h3>Health</h3></div>
                <div class="ins-card" onclick="selectInsurance('life')"><div class="ins-icon">üõ°Ô∏è</div><h3>Life</h3></div>
                <div class="ins-card" onclick="selectInsurance('vehicle')"><div class="ins-icon">üöó</div><h3>Vehicle</h3></div>
                <div class="ins-card" onclick="selectInsurance('travel')"><div class="ins-icon">‚úàÔ∏è</div><h3>Travel</h3></div>
                <div class="ins-card" onclick="selectInsurance('property')"><div class="ins-icon">üè†</div><h3>Property</h3></div>
            </div>
            <div class="checklist-wrap" id="checklistWrap" style="display:none;">
                <div class="checklist-box"><h3 id="checklistTitle">Required Documents</h3><div id="checklistItems"></div></div>
                <div style="margin-top:1.5rem;display:flex;gap:1rem;">
                    <button class="btn btn-primary btn-lg" onclick="navigate('incident')">Proceed to Details ‚Üí</button>
                    <button class="btn btn-ghost" onclick="clearSelection()">Change Type</button>
                </div>
            </div>
        </div>

        <div class="page" id="page-incident">
            <div class="page-header"><h2>Incident Details</h2><p>Provide specific information regarding your claim</p></div>
            <div class="incident-card">
                <form id="claimForm">
                    <div class="incident-grid">
                        <div class="incident-input-group"><label>Policy ID *</label><input type="text" id="inc-policy-id" required></div>
                        <div class="incident-input-group"><label>Incident Date</label><input type="date" id="inc-date"></div>
                        <div class="incident-input-group"><label>Claim Amount (‚Çπ) *</label><input type="number" id="inc-amount" required></div>
                        <div class="incident-input-group"><label>Location</label><input type="text" id="inc-location"></div>
                    </div>
                    <div class="incident-input-group full-width"><label>Description *</label><textarea class="incident-input" id="inc-desc" required></textarea></div>
                    
                    <hr class="incident-divider">

                    <div id="health" class="hidden incident-type-section">
                        <h3 class="section-title">‚Ä¢ Health-Specific Details</h3>
                        <div class="incident-grid">
                            <div class="incident-input-group"><label>Hospital Name</label><input type="text"></div>
                            <div class="incident-input-group"><label>Admission Date</label><input type="date"></div>
                            <div class="incident-input-group"><label>Discharge Date</label><input type="date"></div>
                            <div class="incident-input-group"><label>Treatment Type</label><select class="incident-input"><option>Select...</option><option>Surgery</option><option>Consultation</option><option>Emergency</option></select></div>
                            <div class="incident-input-group full-width"><label>Doctor Name</label><input type="text"></div>
                        </div>
                    </div>

                    <div id="vehicle" class="hidden incident-type-section">
                        <h3 class="section-title">‚Ä¢ Vehicle-Specific Details</h3>
                        <div class="incident-grid">
                            <div class="incident-input-group"><label>Vehicle Registration No.</label><input type="text"></div>
                            <div class="incident-input-group"><label>Accident Type</label><select class="incident-input"><option>Select...</option><option>Collision</option><option>Theft</option><option>Fire</option></select></div>
                            <div class="incident-input-group"><label>Driver Name</label><input type="text"></div>
                            <div class="incident-input-group"><label>FIR Number</label><input type="text"></div>
                            <div class="incident-input-group full-width"><label>Repair Shop / Garage</label><input type="text"></div>
                        </div>
                    </div>

                    <div id="travel" class="hidden incident-type-section">
                        <h3 class="section-title">‚Ä¢ Travel-Specific Details</h3>
                        <div class="incident-grid">
                            <div class="incident-input-group"><label>Flight / Booking Reference</label><input type="text"></div>
                            <div class="incident-input-group"><label>Travel Start Date</label><input type="date"></div>
                        </div>
                    </div>

                    <div id="life" class="hidden incident-type-section">
                        <h3 class="section-title">‚Ä¢ Life/Nominee Details</h3>
                        <div class="incident-grid">
                            <div class="incident-input-group"><label>Nominee Name</label><input type="text"></div>
                            <div class="incident-input-group"><label>Relationship</label><input type="text"></div>
                        </div>
                    </div>

                    <div id="property" class="hidden incident-type-section">
                        <h3 class="section-title">‚Ä¢ Property-Specific Details</h3>
                        <div class="incident-grid">
                            <div class="incident-input-group"><label>Property Address</label><input type="text"></div>
                            <div class="incident-input-group"><label>Damage Type</label><select class="incident-input"><option>Natural Disaster</option><option>Fire</option><option>Theft</option></select></div>
                        </div>
                    </div>

                    <div class="buttons">
                        <button type="button" class="btn btn-ghost" onclick="navigate('insurance')">Back</button>
                        <button type="button" class="btn btn-primary btn-lg" onclick="handleIncidentSubmit()">Next: Upload Documents</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="page" id="page-upload">
            <div class="page-header"><h2>Upload Claim Documents</h2><p id="uploadSubtitle">Upload your documents for AI analysis</p></div>
            <div class="upload-wrap">
                <div class="upload-btns">
                    <button class="btn btn-outline btn-lg" onclick="triggerFileUpload()" id="uploadFileBtn">Upload File</button>
                    <button class="btn btn-outline btn-lg" onclick="simulateDigiLocker()" id="digiBtn">Upload from DigiLocker</button>
                </div>
                <div class="upload-zone" id="dropZone">
                    <input type="file" id="fileInput" accept="image/*,.pdf" onchange="handleFileSelect(event)"/>
                    <div class="upload-icon">üìÅ</div>
                    <p class="up-title">Drop your document here</p>
                    <p>Supports JPG, PNG, PDF up to 16MB</p>
                    <p style="margin-top:.5rem;font-size:.8rem;color:var(--accent);" id="selectedFile"></p>
                </div>
                <div id="digiResult" style="display:none;" class="result-card"><h3 style="margin-bottom:1rem;">DigiLocker Documents Fetched</h3><div id="digiDocs"></div></div>
                <div id="aiLoader" style="display:none;" class="result-card">
                    <div class="loader-wrap">
                        <div class="spinner"></div><p style="font-weight:600;">AI Pipeline Running...</p>
                        <ul class="loader-steps" id="loaderSteps">
                            <li id="step1">Uploading document...</li><li id="step2">Running blur detection (OpenCV)</li><li id="step3">Extracting data (Gemini Vision OCR)</li>
                            <li id="step4">Cross-validating dates & fields</li><li id="step5">Running ML rejection classifier</li><li id="step6">Applying HITL decision logic</li>
                        </ul>
                    </div>
                </div>
                <div id="aiResult" style="display:none;"></div>
                <div style="margin-top:1.5rem;"><button class="btn btn-ghost" onclick="navigate('incident')">‚Üê Back</button></div>
            </div>
        </div>

        <div class="page" id="page-dashboard">
            <div class="dash-wrap">
                <div class="dash-header"><div><h2>Claims Dashboard</h2><p style="color:var(--muted);font-size:.875rem;" id="dashWelcome">Welcome back</p></div><button class="btn btn-primary" onclick="navigate('insurance')">+ New Claim</button></div>
                <div class="alert-box" id="dashAlert" style="display:none;"><span class="alert-icon">‚ö†Ô∏è</span><p id="dashAlertText"></p></div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-val" id="statTotal">0</div><div class="stat-label">Total Claims</div></div>
                    <div class="stat-card approved"><div class="stat-val" id="statApproved">0</div><div class="stat-label">Approved</div></div>
                    <div class="stat-card pending"><div class="stat-val" id="statPending">0</div><div class="stat-label">Pending Review</div></div>
                    <div class="stat-card rejected"><div class="stat-val" id="statRejected">0</div><div class="stat-label">Rejected</div></div>
                    <div class="stat-card amount"><div class="stat-val" id="statAmount">‚Çπ0</div><div class="stat-label">Total Claimed</div></div>
                </div>
                <div class="claims-table">
                    <table>
                        <thead><tr><th>Claim #</th><th>Type</th><th>Amount</th><th>Health Score</th><th>Status</th><th>Progress</th><th>Date</th></tr></thead>
                        <tbody id="claimsTableBody"><tr><td colspan="7" style="text-align:center;padding:3rem;color:var(--muted);">No claims yet. Start by filing a new claim.</td></tr></tbody>
                    </table>
                </div>
            </div>
        </div>

        <footer class="site-footer"> ¬© 2026 ClaimAssist AI. All rights reserved. </footer>
    </div>

    <div id="chat-container" style="position:fixed; bottom:20px; right:20px; z-index:9999;">
        <button id="chat-btn" style="background:var(--accent); border:none; width:60px; height:60px; border-radius:50%; color:white; font-size:1.5rem; cursor:pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.3);">üí¨</button>
        <div id="chat-box" style="display:none; width:350px; height:450px; background:var(--surface); border:1px solid var(--border); border-radius:15px; flex-direction:column; margin-bottom:15px; position:absolute; bottom:70px; right:0; overflow:hidden;">
            <div style="background:var(--card); padding:15px; border-bottom:1px solid var(--border); font-weight:bold; color:var(--accent2);">ClaimAssist Support</div>
            <div id="messages" style="flex:1; padding:15px; overflow-y:auto; color:var(--text); font-size:0.9rem;"></div>
            <div style="padding:10px; display:flex; gap:5px; background:var(--card);">
                <input id="user-input" type="text" placeholder="Type a message..." style="flex:1; background:var(--bg); border:1px solid var(--border); color:white; padding:8px; border-radius:5px;">
                <button onclick="sendMessage()" style="background:var(--accent); border:none; color:white; padding:8px 15px; border-radius:5px; cursor:pointer;">Send</button>
            </div>
        </div>
    </div>

    <script>
        // ===== STATE & CONFIG =====
        let currentPage = 'home';
        let authToken = localStorage.getItem('claimassist_token');
        let currentUser = JSON.parse(localStorage.getItem('claimassist_user') || 'null');
        let selectedInsType = null;
        let selectedFile = null;
        let incidentData = {}; // Temp store for multi-step
        const API = 'http://localhost:5000/api';

        // ===== NAVIGATION LOGIC =====
        function navigate(page) {
            if (['insurance','incident','upload','dashboard'].includes(page) && !authToken) {
                showToast('Please sign in to continue', 'error');
                navigate('login');
                return;
            }
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('page-' + page).classList.add('active');
            currentPage = page;
            
            if (page === 'dashboard') loadDashboard();
            if (page === 'incident') syncInsuranceView();
            
            updateNav();
            window.scrollTo(0,0);
        }

        function updateNav() {
            const nl = document.getElementById('navLinks');
            if (authToken && currentUser) {
                nl.innerHTML = `
                    <button class="btn btn-ghost" onclick="navigate('dashboard')">Dashboard</button>
                    <button class="btn btn-ghost" onclick="navigate('insurance')">New Claim</button>
                    <button class="btn btn-outline" onclick="logout()">Sign Out</button>
                `;
            } else {
                nl.innerHTML = `
                    <button class="btn btn-ghost" onclick="navigate('home')">Home</button>
                    <button class="btn btn-primary" onclick="navigate('login')" id="navLogin">Sign In</button>
                `;
            }
        }

        // ===== INSURANCE SYNC & INCIDENT FORM =====
        function syncInsuranceView() {
            // Hide all specific sections
            document.querySelectorAll('.incident-type-section').forEach(sec => sec.classList.add('hidden'));
            // Show only the one matching selectedInsType
            if (selectedInsType) {
                const target = document.getElementById(selectedInsType);
                if (target) target.classList.remove('hidden');
            }
        }

        function handleIncidentSubmit() {
            const form = document.getElementById('claimForm');
            if (form.checkValidity()) {
                // Store data in local state as requested
                incidentData = {
                    policyId: document.getElementById('inc-policy-id').value,
                    amount: document.getElementById('inc-amount').value,
                    date: document.getElementById('inc-date').value,
                    desc: document.getElementById('inc-desc').value
                };
                navigate('upload');
            } else {
                form.reportValidity();
            }
        }

        // ===== CORE LOGIC FROM FILE 1 (UNTOUCHED) =====
        function togglePassword(inputId, btn) {
            const input = document.getElementById(inputId);
            if (input.type === "password") { input.type = "text"; btn.textContent = "Hide"; } 
            else { input.type = "password"; btn.textContent = "Show"; }
        }

        function logout() {
            authToken = null; currentUser = null;
            localStorage.removeItem('claimassist_token');
            localStorage.removeItem('claimassist_user');
            navigate('home');
            showToast('Signed out successfully', 'success');
        }

        function showToast(msg, type='success') {
            const t = document.getElementById('toast');
            t.className = `toast show ${type}`;
            t.innerHTML = `<span></span> ${msg}`;
            setTimeout(() => t.classList.remove('show'), 3500);
        }

        async function doLogin() {
            const email = document.getElementById('loginEmail').value;
            const pwd = document.getElementById('loginPwd').value;
            const err = document.getElementById('loginError');
            const btn = document.getElementById('loginBtn');
            if (!email || !pwd) { err.textContent = 'Please fill in all fields'; return; }
            err.textContent = ''; btn.disabled = true; btn.textContent = 'Signing in...';
            try {
                const res = await fetch(`${API}/auth/login`, { method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify({email, password: pwd}) });
                const data = await res.json();
                if (!res.ok) { err.textContent = data.error || 'Login failed'; return; }
                authToken = data.token; currentUser = data.user;
                localStorage.setItem('claimassist_token', authToken);
                localStorage.setItem('claimassist_user', JSON.stringify(currentUser));
                showToast(`Welcome back, ${currentUser.name}!`, 'success');
                navigate('insurance'); // Flow: Login -> Insurance
            } catch(e) {
                authToken = 'demo_token_' + Date.now();
                currentUser = {id: 1, name: 'Demo User', email};
                localStorage.setItem('claimassist_token', authToken);
                localStorage.setItem('claimassist_user', JSON.stringify(currentUser));
                showToast(`Backend offline. Logged in via Demo Mode.`, 'warning');
                navigate('insurance');
            } finally { btn.disabled = false; btn.textContent = 'Sign In'; }
        }

        async function doRegister() {
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const pwd = document.getElementById('regPwd').value;
            const err = document.getElementById('regError');
            const btn = document.getElementById('regBtn');
            if (!name || !email || !pwd) { err.textContent = 'Please fill in all fields'; return; }
            err.textContent = ''; btn.disabled = true; btn.textContent = 'Creating account...';
            try {
                const res = await fetch(`${API}/auth/register`, { method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify({name, email, password: pwd}) });
                const data = await res.json();
                if (!res.ok) { err.textContent = data.error || 'Registration failed'; return; }
                authToken = data.token; currentUser = data.user;
                localStorage.setItem('claimassist_token', authToken);
                localStorage.setItem('claimassist_user', JSON.stringify(currentUser));
                showToast('Account created successfully!', 'success');
                navigate('insurance');
            } catch(e) {
                authToken = 'demo_token_' + Date.now();
                currentUser = {id: 1, name, email};
                localStorage.setItem('claimassist_token', authToken);
                localStorage.setItem('claimassist_user', JSON.stringify(currentUser));
                showToast('Backend offline. Created Demo Account.', 'warning');
                navigate('insurance');
            } finally { btn.disabled = false; btn.textContent = 'Create Account'; }
        }

        const CHECKLISTS = {
            health: {name:'Health Insurance', docs:[ {label:'Hospital Discharge Summary', required:true}, {label:"Doctor's Prescription", required:true}, {label:'Original Hospital Bills', required:true}, {label:'ID Proof', required:true} ]},
            life: {name:'Life Insurance', docs:[ {label:'Death Certificate', required:true}, {label:'Original Policy', required:true}, {label:"Nominee's ID", required:true} ]},
            vehicle: {name:'Vehicle Insurance', docs:[ {label:'FIR Copy', required:true}, {label:'Vehicle RC', required:true}, {label:'Driving License', required:true} ]},
            travel: {name:'Travel Insurance', docs:[ {label:'Passport Copy', required:true}, {label:'Travel Tickets', required:true} ]},
            property: {name:'Property Insurance', docs:[ {label:'Ownership Docs', required:true}, {label:'FIR Report', required:true} ]}
        };

        function selectInsurance(type) {
            selectedInsType = type;
            document.querySelectorAll('.ins-card').forEach(c => c.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            const cl = CHECKLISTS[type];
            document.getElementById('checklistTitle').textContent = ` ${cl.name} ‚Äî Required Documents`;
            document.getElementById('checklistItems').innerHTML = cl.docs.map(d => `
                <div class="checklist-item"><div class="check-icon ${d.required ? 'required' : 'optional'}">‚óè</div><span class="check-label">${d.label}</span></div>
            `).join('');
            document.getElementById('checklistWrap').style.display = 'block';
            document.getElementById('checklistWrap').scrollIntoView({behavior:'smooth'});
        }

        function clearSelection() {
            selectedInsType = null;
            document.querySelectorAll('.ins-card').forEach(c => c.classList.remove('selected'));
            document.getElementById('checklistWrap').style.display = 'none';
        }

        function triggerFileUpload() { document.getElementById('fileInput').click(); }
        
        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (!file) return;
            selectedFile = file;
            document.getElementById('selectedFile').textContent = `‚úì Selected: ${file.name}`;
            setTimeout(() => processFile(), 200);
        }

        async function simulateDigiLocker() {
            const btn = document.getElementById('digiBtn');
            btn.disabled = true; btn.textContent = ' Connecting...';
            await sleep(1200);
            const digiResult = document.getElementById('digiResult');
            const digiDocs = document.getElementById('digiDocs');
            digiDocs.innerHTML = `<div style="padding:.75rem; background:rgba(16,185,129,0.1); border-radius:10px;">Verified Aadhaar & Insurance Policy Fetched.</div>`;
            digiResult.style.display = 'block';
            showToast('Documents fetched from DigiLocker!', 'success');
            btn.disabled = false; btn.textContent = ' Upload from DigiLocker';
        }

        async function processFile() {
            if (!selectedFile) return;
            const loader = document.getElementById('aiLoader');
            const result = document.getElementById('aiResult');
            loader.style.display = 'block'; result.style.display = 'none';
            const steps = ['step1','step2','step3','step4','step5','step6'];
            for (let i = 0; i < steps.length; i++) {
                await sleep(600);
                document.getElementById(steps[i]).className = 'active';
                if (i > 0) document.getElementById(steps[i-1]).className = 'done';
            }
            await sleep(600);
            document.getElementById(steps[5]).className = 'done';

            let aiData;
            try {
                const formData = new FormData();
                formData.append('file', selectedFile);
                const res = await fetch(`${API}/claims/upload`, { method: 'POST', headers: {'Authorization': `Bearer ${authToken}`}, body: formData });
                aiData = await res.json();
            } catch(e) {
                aiData = generateDemoResult(selectedInsType || 'health');
            }
            loader.style.display = 'none';
            result.style.display = 'block';
            result.innerHTML = renderAIResult(aiData);
        }

        // Generating demo results and dashboard data (Original Logic)
        function generateDemoResult(type) {
            const rejProb = Math.random() * 0.4;
            return {
                claim_number: `CLM${Math.floor(Math.random()*90000)}`,
                status: rejProb < 0.2 ? 'approved' : 'pending',
                health_score: Math.round((1 - rejProb) * 100),
                rejection_probability: rejProb.toFixed(2),
                claim_amount: incidentData.amount || 50000,
                ai_reasons: [{severity:'low', message:'All mandatory fields detected'}],
                extracted_data: {policy_id: incidentData.policyId || 'POL123', name: currentUser.name},
                hitl: {requires_human: rejProb > 0.1, action: 'needs_confirmation', message: 'Ready for final submission.'},
                blur_analysis: {quality: 'good', variance: '240.5'}
            };
        }

        function renderAIResult(data) {
            const score = data.health_score;
            return `
                <div class="result-card">
                    <div class="result-header">
                        <div><div class="claim-num">Claim # ${data.claim_number}</div><div style="font-weight:600;">AI Analysis Complete</div></div>
                        <span class="status-chip ${data.status}">${data.status.toUpperCase()}</span>
                    </div>
                    <div class="score-grid">
                        <div class="score-box"><div class="score-val good">${score}</div><div class="score-label">Health Score</div></div>
                        <div class="score-box"><div class="score-val">${Math.round(data.rejection_probability*100)}%</div><div class="score-label">Rejection Prob</div></div>
                    </div>
                    <div class="hitl-box">
                        <div class="hitl-text"><h4>Ready to Submit</h4><p>AI has validated your documents. Click below to finalize your claim.</p>
                        <div class="hitl-actions"><button class="btn btn-success" onclick="navigate('dashboard')">Submit to Dashboard</button></div></div>
                    </div>
                </div>
            `;
        }

        async function loadDashboard() {
            if (!currentUser) return;
            document.getElementById('dashWelcome').textContent = `Welcome back, ${currentUser.name}`;
            const tbody = document.getElementById('claimsTableBody');
            const demo = generateDemoDashboard();
            renderDashboard(demo);
        }

        function generateDemoDashboard() {
            return {
                claims: [{claim_number:'CLM9821', insurance_type: selectedInsType||'health', claim_amount: incidentData.amount||2500, health_score: 92, status:'approved', date_requested: new Date().toISOString()}],
                stats: {total: 1, approved: 1, pending: 0, rejected: 0, total_amount: incidentData.amount||2500}
            };
        }

        function renderDashboard(data) {
            document.getElementById('statTotal').textContent = data.stats.total;
            document.getElementById('statApproved').textContent = data.stats.approved;
            document.getElementById('statAmount').textContent = `‚Çπ${data.stats.total_amount}`;
            const tbody = document.getElementById('claimsTableBody');
            tbody.innerHTML = data.claims.map(c => `
                <tr><td>${c.claim_number}</td><td style="text-transform:capitalize;">${c.insurance_type}</td><td>‚Çπ${c.claim_amount}</td><td>${c.health_score}</td><td><span class="status-chip ${c.status}">${c.status}</span></td><td>-</td><td>Just now</td></tr>
            `).join('');
        }

        function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }
        
        // Chat Toggle
        const chatBtn = document.getElementById('chat-btn');
        const chatBox = document.getElementById('chat-box');
        chatBtn.onclick = () => { chatBox.style.display = chatBox.style.display === 'none' ? 'flex' : 'none'; };

        async function sendMessage() {
            const input = document.getElementById('user-input');
            const text = input.value.trim();
            if (!text) return;
            const msgDiv = document.getElementById('messages');
            msgDiv.innerHTML += `<div><b>You:</b> ${text}</div>`;
            input.value = '';
            setTimeout(() => { msgDiv.innerHTML += `<div style="color:var(--accent2);"><b>AI:</b> I can help you with your ${selectedInsType || 'insurance'} claim!</div>`; }, 800);
        }

        if (authToken) updateNav();
    </script>
</body>
</html>